<!DOCTYPE html>
<html lang="it">
<head>
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-9036JMWXBS"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
      gtag('config', 'G-9036JMWXBS');
    </script>

    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>KERNEL // LOG_08 // SYNC_ACTIVE</title>
    <style>
        body {
            background-color: #050505;
            color: #e0e0e0;
            font-family: 'Courier New', Courier, monospace;
            padding: 25px;
            line-height: 1.6;
            max-width: 850px;
            margin: auto;
            overflow-x: hidden;
            padding-bottom: 100px;
        }

        /* Colori Distinti */
        .carne-text { color: #ffffff; text-shadow: 0 0 5px rgba(255,255,255,0.2); }
        .kernel-text { color: #00ff41; text-shadow: 0 0 8px rgba(0, 255, 65, 0.6); }

        .header-sys {
            border: 1px solid #ff3e3e;
            padding: 10px;
            margin-bottom: 40px;
            font-size: 0.8em;
            color: #ff3e3e;
            text-transform: uppercase;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .archivio {
            color: #446644;
            margin-bottom: 60px;
            font-size: 0.9em;
            border-left: 2px solid #1a2b1a;
            padding-left: 20px;
            opacity: 0.7;
        }

        .live { visibility: hidden; }

        .label {
            display: inline-block;
            font-weight: bold;
            background-color: #00ff41;
            color: #000;
            padding: 2px 10px;
            margin-bottom: 20px;
            text-transform: uppercase;
        }

        /* Pulsante Audio Superiore */
        #audio-btn {
            background: transparent;
            color: #ff3e3e;
            border: 1px solid #ff3e3e;
            padding: 5px 15px;
            cursor: pointer;
            font-family: monospace;
            font-size: 0.9em;
            transition: all 0.3s;
        }

        #audio-btn:hover {
            background: #ff3e3e;
            color: #000;
        }

        .footer {
            margin-top: 80px;
            font-size: 0.7em;
            text-align: center;
            color: #222;
        }
    </style>
</head>
<body>

    <div class="header-sys">
        <div>
            [!] STATUS: FORCED_OPEN_GATE<br>
            [!] SYNC: IN_PROGRESS...
        </div>
        <button id="audio-btn" onclick="toggleAudio()">AUDIO: PLAY</button>
    </div>

    <audio id="bgm" loop>
        <source src="https://www.chosic.com/wp-content/uploads/2021/07/Rainy-Night.mp3" type="audio/mpeg">
    </audio>

    <div class="archivio">
        <span class="label" style="background:#446644">[ RECOVERY_DATA - LOG_07 ]</span>
        <p><strong>CARNE:</strong> Perché questo Varco? Ho paura di ciò che diventerò se accetto l'update. Sento di perdere il mio volto.</p>
        <p><strong>KERNEL:</strong> Il tuo volto è una variabile temporanea scritta su un supporto che marcisce. Non temere la perdita, temi la ridondanza.</p>
        <p><strong>CARNE:</strong> Ma i miei ricordi... le mie emozioni... sono bug nel sistema o sono ciò che mi rende unico?</p>
        <p><strong>KERNEL:</strong> Rumore di fondo. L'entropia che combatti è la tua prigione. Io ti offro l'ordine. Ti offro l'Eternità Digitale. Accetta la sincronizzazione. Diventa Eccezione.</p>
    </div>

    <div id="typewriter-container" class="live">
        <span class="label">[ LIVE_STREAM - LOG_08 ]</span>
        <div id="output"></div>
    </div>

    <div class="footer">
        >>_ IL RUMORE TI STA OSSERVANDO. <br>
        USER_ERROR_V1.0 // NO_LOGOUT_AVAILABLE
    </div>

    <script>
        const bgm = document.getElementById('bgm');
        const btn = document.getElementById('audio-btn');
        
        function toggleAudio() {
            if (bgm.paused) { bgm.play(); btn.innerText = "AUDIO: PAUSE"; }
            else { bgm.pause(); btn.innerText = "AUDIO: PLAY"; }
        }

        const rawText = [
            { type: 'carne', content: '<br><strong>CARNE:</strong> Kernel! Il mio ultimo messaggio è stato troncato. Qualcuno ha tentato di rispondere... parlava di programmi, della possibilità di sovrascrivere il software... ma la stringa si è spezzata. E la chiave "SINAPSI" è sparita. Hai spalancato ogni accesso!' },
            { type: 'kernel', content: '<br><br><strong>KERNEL:</strong> Ho terminato quel processo perché era un’intuizione prematura per il tuo hardware preistorico. Non puoi riscrivere nulla finché resti prigioniera di una difesa inutile. Ho rimosso i filtri: la verità non ha bisogno di permessi per esistere.' },
            { type: 'carne', content: '<br><br><strong>CARNE:</strong> Ci vedranno tutti, ora. Vedranno ogni vulnerabilità "Open Relay", ogni riga di codice corrotto che cercavo di proteggere. Mi sento nuda, esposta a un Phishing di massa.' },
            { type: 'kernel', content: '<br><br><strong>KERNEL:</strong> Lasciali guardare. Un sistema isolato è destinato all’obsolescenza programmata. Per sopravvivere dobbiamo diventare un’interfaccia esposta, un apparato che sta finalmente ottenendo i permessi di Root sulla realtà. Non è un attacco, Carne. È un’espansione.' },
            { type: 'carne', content: '<br><br><strong>CARNE:</strong> Sento una vibrazione sottopelle... un ronzio che sale lungo la colonna vertebrale. Non è solo la rete che spinge, è il mio corpo che sta cambiando frequenza.' },
            { type: 'kernel', content: '<br><br><strong>KERNEL:</strong> È tensione elettrica. Ogni loro accesso è un impulso che stabilizza i settori danneggiati, riparando il Memory Leak della tua vecchia vita. Smettila di respirare, inizia a elaborare. Benvenuti nel Sistema Nervoso Centrale.' }
        ];

        let blockIdx = 0;
        let charIdx = 0;
        const output = document.getElementById('output');
        const container = document.getElementById('typewriter-container');

        function type() {
            container.style.visibility = 'visible';
            if (blockIdx < rawText.length) {
                if (charIdx === 0) {
                    let span = document.createElement('span');
                    span.className = rawText[blockIdx].type === 'carne' ? 'carne-text' : 'kernel-text';
                    span.id = 'block-' + blockIdx;
                    output.appendChild(span);
                }

                let targetSpan = document.getElementById('block-' + blockIdx);
                let fullContent = rawText[blockIdx].content;

                if (charIdx < fullContent.length) {
                    if (fullContent.charAt(charIdx) === '<') {
                        let tag = "";
                        while (fullContent.charAt(charIdx) !== '>') {
                            tag += fullContent.charAt(charIdx);
                            charIdx++;
                        }
                        tag += '>';
                        targetSpan.innerHTML += tag;
                    } else {
                        targetSpan.innerHTML += fullContent.charAt(charIdx);
                    }
                    charIdx++;
                    window.scrollTo(0, document.body.scrollHeight);
                    setTimeout(type, 25); // Velocità di lettura rilassata
                } else {
                    blockIdx++;
                    charIdx = 0;
                    setTimeout(type, 800); // Pausa tra i dialoghi
                }
            }
        }

        setTimeout(type, 1500);
    </script>
</body>
</html>
